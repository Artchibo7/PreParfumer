{% extends 'base.html.twig' %}

{% block title %}Produits{% endblock %}

{% block body %}
	<div class="container"><br>
		<h1 class="h1Twig">Produits</h1><br>
		{% include('Includes/_flash_message.html.twig') %}

		<div class="table-responsive">
			<table class="table table-bordered table-group-divider">
				<thead>
					<tr>
						<th>Id</th>
						<th>Nom</th>
						<th>Description</th>
						<th>Prix</th>
						<th>Stock</th>
						<th>Actions</th>
					</tr>
				</thead>
				<tbody>
					{% for produit in produits %}
						<tr>
							<td>{{ produit.id }}</td>
							<td>{{ produit.Nom }}</td>
							<td>{{ produit.Description|slice(0, 70) }}...</td>
							<td>{{ produit.Prix }}€</td>
							<td>{{ produit.stock }} pièces</td>
							<td>
								{% if produit.stock > 0 %}
									<span class="text-success">En stock</span>
								{% else %}
									<span class="text-danger">Rupture de stock</span>
								{% endif %}
							</td>
							<td>
								<a href="{{ path('app_produit_show', {'id': produit.id}) }}" class="btn btn-primary btn-sm m-1">Voir</a>
								<a href="{{ path('app_produit_edit', {'id': produit.id}) }}" class="btn btn-success btn-sm m-1">Éditer</a>
								<a href="{{ path('app_produit_stock_ajout', {'id': produit.id}) }}" class="btn btn-outline-info btn-sm m-1">Ajouter le stock</a>
							</td>
						</tr>
					{% else %}
						<tr>
							<td colspan="6" class="text-center">Aucun enregistrement</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>

		<a href="{{ path('app_produit_new') }}" class="btn btn-warning w-100 mt-3">Créer un nouveau produit</a>
	</div>
{% endblock %}
